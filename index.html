<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Guia T√©cnico KYC ‚Äî Local</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

  <style>
    :root{
      --bg:#0f1724;
      --card:#0b1220;
      --muted:#9aa7b2;
      --accent:#7dd3fc;
      --accent-2:#60a5fa;
      --glass: rgba(255,255,255,0.03);
      --highlight: #fffb8f;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    html,body{height:100%}
    body{
      margin:0;
      padding:0;
      background: linear-gradient(180deg,#071023 0%, #0b1220 100%);
      color:#e6eef6;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    .container{
      max-width:1100px;
      margin:28px auto;
      display:grid;
      grid-template-columns: 260px 1fr;
      gap:20px;
      padding:20px;
    }

    /* Sidebar */
    .sidebar{
      background:var(--card);
      padding:16px;
      border-radius:10px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.5);
      position:sticky;
      top:20px;
      height:calc(100vh - 56px);
      overflow:auto;
    }
    .brand{
      display:flex;
      gap:10px;
      align-items:center;
      margin-bottom:14px;
    }
    .logo{
      width:42px;height:42px;border-radius:8px;
      display:flex;align-items:center;justify-content:center;
      background:linear-gradient(135deg,var(--accent),var(--accent-2));
      color:#04212b;font-weight:700;
      font-size:18px;
    }
    .brand h1{font-size:14px;margin:0}
    .searchBox{
      margin-bottom:12px;
    }

    /* Main */
    .main{
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      padding:22px;
      border-radius:10px;
      min-height:70vh;
      box-shadow: 0 6px 30px rgba(0,0,0,0.45);
      overflow:auto;
    }

    .topSearch{
      display:flex;
      gap:8px;
      align-items:center;
      margin-bottom:18px;
    }
    input[type="search"]{
      flex:1;
      padding:10px 12px;
      border-radius:8px;
      border:1px solid rgba(255,255,255,0.05);
      background:var(--glass);
      color:var(--muted);
      outline:none;
      font-size:14px;
      color:var(--accent);
    }
    input[type="search"]::placeholder{color:#6b7f8c}
    .btn{
      padding:9px 12px;border-radius:8px;border:0;background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#012;cursor:pointer;
      font-weight:600;
    }
    .btn.secondary{
      background:transparent;color:var(--muted);border:1px solid rgba(255,255,255,0.04);
    }

    .meta{
      display:flex;gap:12px;align-items:center;margin-bottom:12px;color:var(--muted);font-size:13px;
    }

    h2.sectionTitle{
      font-size:18px;margin:10px 0 8px;display:flex;gap:10px;align-items:center;
    }
    p.lead{color:var(--muted);margin-top:0;margin-bottom:12px}
    section.card{
      background: rgba(255,255,255,0.02);
      padding:14px;border-radius:8px;margin-bottom:12px;border:1px solid rgba(255,255,255,0.02);
    }
    pre{background:#071427;padding:12px;border-radius:6px;font-size:13px;overflow:auto;color:#bfeafc}
    table{width:100%;border-collapse:collapse;margin-bottom:12px}
    table th, table td{padding:8px;text-align:left;border-bottom:1px dashed rgba(255,255,255,0.03);font-size:13px;color:var(--muted)}
    .hidden{display:none !important}
    .match-highlight{background:linear-gradient(90deg, rgba(255,255,143,0.12), rgba(255,255,143,0.06));padding:0 3px;border-radius:3px;color:var(--highlight);font-weight:600}

    /* index links */
    .indexList{list-style:none;padding:0;margin:6px 0 0}
    .indexList li{margin:6px 0}
    .indexList a{color:var(--muted);text-decoration:none;font-size:14px}
    .indexList a:hover{color:var(--accent)}

    /* footer small */
    .footer{font-size:12px;color:var(--muted);margin-top:10px}

    /* highlight animation when show result */
    .reveal{animation:fadeIn 240ms ease-out both}
    @keyframes fadeIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:none}}

    /* responsive */
    @media (max-width:980px){
      .container{grid-template-columns:1fr; padding:12px}
      .sidebar{position:relative;height:auto;order:2}
      .main{order:1}
    }

.faq-question {
  width: 100%;
  text-align: left;
  background: rgba(255,255,255,0.05);
  border: none;
  padding: 10px;
  border-radius: 6px;
  cursor: pointer;
  color: #dce9f5;
  font-size: 14px;
  font-weight: 600;
}

.faq-question::after {
  content: "+";
  float: right;
  font-weight: bold;
}

.faq-item.open .faq-question::after {
  content: "-";
}

.faq-answer {
  max-height: 0;
  overflow: hidden;
  transition: max-height .25s ease;
  padding-left: 4px;
}

.faq-item.open .faq-answer {
  max-height: 800px; /* plenty of room */
  margin-top: 6px;
}

.tooltip {
  position: relative;
  cursor: help;
}

.tooltip:hover::after {
  content: attr(data-tooltip);
  position: absolute;
  bottom: 120%;
  left: 50%;
  transform: translateX(-50%);
  background: #333;
  color: #fff;
  padding: 5px 8px;
  border-radius: 4px;
  font-size: 12px;
  white-space: nowrap;
  z-index: 10;
}

#conceitos {
  display: none !important;
}
	  .lista-limpa {
		list-style: none;
    	padding: 0 !important;
		margin: 0 !important;
    	background: none !important;
	  }
	  .lista-limpa li::before {
	font-family: "bootstrap-icons"; 
    content: "\F114"; /* bi-arrow-bar-right */
    font-size: 1rem;
    margin-right: 8px;

    display: inline-block;
    vertical-align: middle;
    font-style: normal;
    font-weight: normal;
	  }
  </style>
</head>
<body>
  <div class="container">
    <aside class="sidebar" aria-label="Navega√ß√£o do Guia">
      <div class="brand">
        <div class="logo">KYC</div>
        <div>
          <h1>Guia T√©cnico KYC</h1>
          <div style="font-size:12px;color:var(--muted)">Local ‚Äî Vers√£o 1.1</div>
        </div>
      </div>

      <div class="searchBox">
        <input id="sideSearch" placeholder="Pesquisar (atalho: /)" aria-label="Pesquisar no guia" />
      </div>

      <nav>
        <strong style="color:var(--muted);font-size:13px">√çndice</strong>
        <ul class="indexList" id="indexList">
          <li><a href="#intro">Introdu√ß√£o</a></li>
          
          <li><a href="#fluxo">Fluxo Padr√£o de An√°lise</a></li>
          <li><a href="#casos">Casos Reais e Solu√ß√µes</a></li>
          <li><a href="#prompt">Prompt T√©cnico</a></li>
          
          <li><a href="#proximos">Situa√ß√µes</a></li>
	  <li><a href="#faq"">FAQ</a></li>
        </ul>
      </nav>

      <div class="footer">
       
        <div style="margin-top:6px">Uso interno ‚Ä¢ Salve localmente</div>
      </div>
    </aside>

    <main class="main" id="mainContent">
      <div class="topSearch">
        <input type="search" id="globalSearch" placeholder="Digite para buscar (ex: 'liveness', 'face match', '500') ‚Äî pressione Esc para limpar" />
        <button class="btn" id="clearBtn" title="Limpar busca">Limpar</button>
        <button class="btn secondary" id="showAllBtn" title="Mostrar tudo">Mostrar tudo</button>
      </div>

      <div class="meta">
        <div>Guia colaborativo para an√°lise de casos KYC</div>
      </div>

      <!-- Content sections -- each section has data-section attribute for searching -->
      <section id="intro" class="card" data-section>
        <h2 class="sectionTitle">üß† Introdu√ß√£o</h2>
        <p class="lead">Registros de casos reais em processos de verifica√ß√£o de identidade (KYC).</p>
      </section>

      <section id="conceitos" class="card" data-section>
        <h2 class="sectionTitle">üìò Dicion√°rio</h2>
        <table>
          <thead><tr><th>Termo</th><th>Significado</th></tr></thead>
          <tbody">
            <tr><td><strong>KYC</strong></td><td>Verifica√ß√£o da identidade do usu√°rio</td></tr>
            <tr><td><strong>Onboarding</strong></td><td>Envio de documentos e dados iniciais</td></tr>
            <tr><td><strong>Liveness</strong></td><td>Prova de vida para confirmar pessoa real</td></tr>
            <tr><td><strong>Face Match</strong></td><td>Compara√ß√£o selfie x documento</td></tr>
            <tr><td><strong>Threshold</strong></td><td>Limite m√≠nimo de score para aprovar</td></tr>
            <tr><td><strong>OCR</strong></td><td>Leitura autom√°tica de texto no documento</td></tr>
            <tr><td><strong>Spoof</strong></td><td>Detec√ß√£o de tentativa de fraude visual</td></tr>
            <tr><td><strong>Session ID</strong></td><td>Identificador √∫nico da tentativa</td></tr>
	    <tr><td><strong>Handshake</strong></td><td>Processo de comunica√ß√£o entre dois dispositivos em uma rede</td></tr>
	    <tr><td><strong>Timeout</strong></td><td>Limite de tempo estabelecido para execu√ß√£o da opera√ß√£o</td></tr>
	    <tr><td><strong>Request</strong></td><td>Mensagem enviada pelo sistema ao servidor</td></tr>
	    <tr><td><strong>Response</strong></td><td>Resposta retornada pelo servidor</td></tr>
	    <tr><td><strong>WebRTC</strong></td><td>Tecnologia usada para acessar a c√¢mera e microfone do dispositivo em tempo real</td></tr>
	    <tr><td><strong>Webhook</strong></td><td>Mensagem autom√°tica que o sistema envia quando o evento ocorre</td></tr>
	    <tr><td><strong>Endpoint </strong></td><td>Endere√ßo de destino</td></tr>

          </tbody>
        </table>
      </section>

      <section id="fluxo" class="card" data-section>
        <h2 class="sectionTitle">‚öôÔ∏è Fluxo Padr√£o de An√°lise</h2>
        <ol>
          <li><strong>Identificar o ponto de falha</strong> ‚Äî documento, selfie, face match, etc.</li>
          <li><strong>Coletar informa√ß√µes</strong> ‚Äî status code, mensagem, etc.</li>
          <li><strong>Verificar o ambiente do usu√°rio</strong> ‚Äî dispositivo, navegador, permiss√µes e condi√ß√µes.</li>
          <li><strong>Classificar a falha</strong> ‚Äî valida√ß√£o, t√©cnica ou seguran√ßa.</li>
          <li><strong>Registrar o caso</strong> ‚Äî tipo, causa e a√ß√£o recomendada.</li>
        </ol>
      </section>

      <section id="casos" class="card" data-section>
        <h2 class="sectionTitle">üîç Casos Reais e Solu√ß√µes</h2>

        <article data-section>
          <h3>üßæ Caso 1 ‚Äî Documento ileg√≠vel / <span class="tooltip" data-tooltip="Leitura autom√°tica de texto no documento">OCR</span> falhou</h3>
          <p><strong>Sintoma:</strong> OCR failed / document type unknown.</p>
          <p><strong>Causa:</strong> Reflexo, corte da imagem, baixa ilumina√ß√£o ou baixa qualidade da imagem.</p>
          <p><strong>A√ß√£o:</strong> Solicitar nova foto com fundo neutro, local bem iluminado, sem sombras ou reflexos e documento centralizado.</p>
          <pre>Exemplo: Usu√°rio enviou CNH com reflexo do flash; ap√≥s reenviar em luz natural, <span title="Leitura autom√°tica de texto no documento">OCR</span> funcionou.</pre>
        </article>

        <article data-section>
          <h3>ü§≥ Caso 2 ‚Äî <span class="tooltip" data-tooltip="Prova de vida para confirmar pessoa real">Liveness</span> falhou / rosto n√£o detectado</h3>
          <p><strong>Sintoma:</strong> Liveness failed / face not detected.</p>
          <p><strong>Causa:</strong> Rosto fora do enquadramento, bon√© ou baixa ilumina√ß√£o.</p>
          <p><strong>A√ß√£o:</strong> Instruir a buscar um local melhor iluminado, centralizar o rosto, remover acess√≥rios e refazer o fluxo.</p>
        </article>

        <article data-section>
          <h3>ü™û Caso 3 ‚Äî <span class="tooltip" data-tooltip="Compara√ß√£o selfie x documento">Face Match</span> abaixo do <span class="tooltip" data-tooltip="Limite m√≠nimo de score para aprovar">threshold</span></h3>
          <p><strong>Sintoma:</strong> Score 0.69 / Threshold 0.75.</p>
          <p><strong>Causa:</strong> Foto do documento antiga ou selfie com √¢ngulo diferente.</p>
          <p><strong>A√ß√£o:</strong> Solicitar nova selfie em local melhor iluminado, sem acess√≥rios, sombras ou reflexos. Caso persista, reportar/consultar junto ao provedor.</p>
        </article>

        <article data-section>
          <h3>‚öôÔ∏è Caso 4 ‚Äî Erro t√©cnico na integra√ß√£o</h3>
          <p><strong>Sintoma:</strong> 500 Internal Server Error / Timeout.</p>
          <p><strong>Causa:</strong> Instabilidade do provedor ou endpoint sobrecarregado.</p>
          <p><strong>A√ß√£o:</strong> Limpeza de cache e nova tentativa, verificar logs e, se persistir, verificar necessidade de regsitrar ticket.</p>
        </article>

        <article data-section>
          <h3>üïµÔ∏è Caso 5 ‚Äî Tentativa de spoof detectada</h3>
          <p><strong>Sintoma:</strong> spoof_detected / baixa profundidade detectada.</p>
          <p><strong>Causa:</strong> Imagem de tela ou m√°scara.</p>
          <p><strong>A√ß√£o:</strong> Reportar tentativa e encaminhar ao time antifraude. N√£o comunicar ao usu√°rio como "fraude" diretamente.</p>
        </article>

        <article data-section>
          <h3>üß† Caso 6 ‚Äî Falha de webhook</h3>
          <p><strong>Sintoma:</strong> Callback n√£o recebido ap√≥s aprova√ß√£o. <pre>Exemplo: Aprovado na base do provedor e processando/expirado ou reprovado no backoffice da brand</pre></p>
          <p><strong>Causa:</strong> Endpoint interno indispon√≠vel (404/500).</p>
          <p><strong>A√ß√£o:</strong> Limpar cache e testar com nova sess√£o. Caso persista, reportar/verificar junto ao provedor</p>
        </article>

      </section>

      <section id="prompt" class="card" data-section>
        <h2 class="sectionTitle">ü§ñ Prompt Para Avaliar Cen√°rio</h2>
        <pre>
# Considerando os casos de KYC que ser√£o relatados abaixo,
# execute a seguinte l√≥gica de processamento:

# 1. Ao receber um relato de caso de KYC:
#    - Analise tecnicamente o ponto de falha.

# 2. Gere como sa√≠da, obrigatoriamente, tr√™s blocos:
#    (1) MOTIVO_TECNICO_REPROVACAO
#        - Descrever o erro, inconsist√™ncia ou causa raiz
#          com terminologia t√©cnica e objetiva.

#    (2) EXPLICACAO_SIMPLIFICADA_CLIENTE
#        - Traduzir o problema t√©cnico para uma linguagem
#          simples, clara e compreens√≠vel para o cliente final.

#    (3) ACOES_RECOMENDADAS_PARA_O_USUARIO
#        - Orientar quais passos devem ser tomados para
#          corre√ß√£o do cen√°rio.

# 3. N√£o gerar conclus√µes antes do recebimento dos relatos.
# 4. Apenas aguardar: n√£o iniciar an√°lise at√© novo comando.
# -----------------------------------------------------------

# STATUS: AGUARDANDO_RELATOS
        </pre>
	  </section>
      

      <section id="proximos" class="card" data-section>
        
	<h3 class="sectionTitle">Documento emitido quando ainda era menor de idade:</h3>
        
          <p>Reprova√ß√£o no de face match causada por alta discrep√¢ncia morfol√≥gica entre a foto do documento antigo e a selfie atual, impossibilitando o motor biom√©trico de validar pontos estruturais do rosto (propor√ß√µes faciais, dist√¢ncia entre olhos, mand√≠bula, etc.). Documento emitido em per√≠odo de menor idade tende a gerar baixo √≠ndice de similaridade na compara√ß√£o.</p>

<br><p>A√ß√µes Recomendadas para o usu√°rio:</p>
<ul class="lista-limpa">
<li>Enviar documento atualizado, preferencialmente com foto recente.</li>

<li>Certificar-se de que a selfie seja feita em boa ilumina√ß√£o, rosto centralizado e sem acess√≥rios que dificultem a compara√ß√£o.</li>

<li>Repetir a valida√ß√£o ap√≥s atualizar o documento ou melhorar as condi√ß√µes da captura da selfie.</li></ul>
	
	  </section>
		<section id="proximos" class="card" data-section>
	<h3 class="sectionTitle">Posicionamento inadequado/texturas no plano de fundo:</h3>
	<p>Falha na valida√ß√£o de liveness causada por inadequado enquadramento biom√©trico, incluindo orienta√ß√£o incorreta do usu√°rio (posi√ß√£o deitado) e ru√≠do visual no background devido a cores/texturas que interferem nos algoritmos de detec√ß√£o facial.</p>

<br><p>A√ß√µes Recomendadas para o usu√°rio:</p>
			<ul class="lista-limpa">
<li>Refa√ßa o liveness sentado ou em p√©, mantendo o rosto centralizado.</li>

<li>Utilize um ambiente com fundo neutro, sem estampas, objetos ou cores muito fortes.</li>

<li>Garanta boa ilumina√ß√£o e mantenha o rosto totalmente vis√≠vel.</li>

<li>Siga exatamente as instru√ß√µes do aplicativo durante a captura.</li></ul>
	
		</section>
		<section id="proximos" class="card" data-section>
	<h3 class="sectionTitle">Registro de reprova√ß√£o no BKO interno, sem logs de execu√ß√£o junto ao fornecedor:</h3>
	<p>Prov√°vel falha de inicializa√ß√£o da sess√£o, timeout ou erro de handshake entre o front e a API do fornecedor antes da cria√ß√£o do session ID. Recomendar nova tentativa com cache limpo e rede est√°vel; caso persista, coletar logs de request/response da sess√£o para an√°lise junto ao provedor.<br>
	<br><p>A√ß√µes Recomendadas para o usu√°rio:</p>
			<ul class="lista-limpa">
	<li>Tentar novamente a verifica√ß√£o de identidade, garantindo boa conex√£o √† internet;</li>
	<li>Fechar e reabrir o aplicativo antes de iniciar uma nova tentativa.</li>
	<li>Limpar o cache do navegador/app antes de uma nova tentativa.</li>
	<li>Permitir acesso √† c√¢mera e garantir boa ilumina√ß√£o e enquadramento.</li></ul><br>

<pre>Obs: A reprova√ß√£o local, sem o envio do request ao provedor, <br>pode acontecer em casos de dados divergentes ou na falta de dados no cadastro <br>(se for o caso, verificar a necessidade de atualiza√ß√£o de dados).</pre> </p>

		</section>
	<section id="proximos" class="card" data-section>
	<h3 class="sectionTitle">N√£o foi poss√≠vel validar sua captura, por favor tente novamente:</h3>
	<p>Valida√ß√£o da captura falhou por incapacidade de extrair/validar os dados necess√°rios da imagem enviada.</p>
	<p><b>Causas t√©cnicas prov√°veis:</b><br>
		Imagem ileg√≠vel (desfoque, baixa resolu√ß√£o ou compress√£o excessiva) impedindo OCR / leitura de campos.
		<br>Reflexo ou ilumina√ß√£o que bloqueia caracteres do documento ou rosto.
		<br>Captura parcial (documento fora do enquadramento, cantos cortados) ‚Äî dados ausentes.
		<br>Arquivo em formato, tamanho ou codifica√ß√£o n√£o suportados (payload corrompido).
		<br>Erro no cliente (permiss√µes de c√¢mera negadas, SDK n√£o iniciado) ou timeout na submiss√£o.</p>
	
	<br><p>A√ß√µes Recomendadas para o usu√°rio:</p>
		<ul class="lista-limpa">
	<li>Refa√ßa a captura mantendo a c√¢mera firme e centralize todo o documento na tela.</li>
	<li>Garanta boa ilumina√ß√£o sem reflexos, incline levemente o documento se aparecer brilho.</li>
	<li>N√£o use filtros ou edi√ß√µes; envie a foto original em alta resolu√ß√£o.</li>
	<li>Para selfie: olhe para a c√¢mera, mantenha o rosto vis√≠vel, sem √≥culos escuros ou m√°scara; siga qualquer instru√ß√£o de movimenta√ß√£o se houver (piscar/virar a cabe√ßa).</li>
	<li>Verifique permiss√µes de c√¢mera no app/navegador e permita o acesso antes de tentar.</li></ul>

	
	</section>
		<section id="proximos" class="card" data-section>
	<h3 class="sectionTitle">Erro na C√¢m. no Envio da Selfie:</h3>
	<p>Indica falha na captura ou transmiss√£o do frame do liveness <span class="tooltip" data-tooltip="Kit de desenvolvimento de software">SDK</span>, poss√≠vel bloqueio de c√¢mera, permiss√£o negada, interrup√ß√£o de stream WebRTC ou falha de upload no endpoint do fornecedor.</p>
	<br><p>A√ß√µes Recomendadas para o usu√°rio:</p>
			<ul class="lista-limpa">
	<li>Feche o aplicativo/navegador e abra novamente antes de tentar a selfie.</li>
	<li>Permita o acesso √† c√¢mera nas configura√ß√µes do celular ou do navegador.</li>
	<li>Feche outros aplicativos que possam estar usando a c√¢mera (WhatsApp, Instagram, c√¢mera nativa).</li>
	<li>Reinicie o celular, caso a c√¢mera continue travada.</li></ul>    
        
      </section>
		<section id="proximos" class="card" data-section>

<h3 class="sectionTitle">Falha na permiss√£o da c√¢mera pelo app:</h3>

<p>A captura falha porque, quando o fluxo roda dentro do APK/TWA, o navegador embutido (WebView / WKWebView / TWA host) frequentemente n√£o dispara ou n√£o propaga corretamente o prompt de getUserMedia, resultando em PermissionDenied.</p>

<br><p>A√ß√µes Recomendadas para o usu√°rio:</p>

<ul class="lista-limpa">
	<li>Abrir o link de valida√ß√£o diretamente no navegador (Chrome, Edge ou Safari) e realizar a selfie por l√°.</li>
	<li>Se insistir no app: verifique em Configura√ß√µes do dispositivo ‚Üí Privacidade / C√¢mera /Gest√£o de Permiss√µes se o app aparece e tem permiss√£o; caso n√£o apare√ßa, tente usar o navegador.</li>
	<li>Fechar outros apps que usem a c√¢mera e reiniciar o aparelho antes de tentar novamente no app (ajuda em casos onde a c√¢mera fica presa a outro processo).</li>

</ul>

</section>

<section id="faq" class="card" data-section>
  <h2 class="sectionTitle">üí¨FAQ</h2>
 

  <!-- FAQ Item -->
  <article class="faq-item" data-section>
    <button class="faq-question">üì∑ A c√¢mera n√£o habilita ou n√£o aparece no navegador <span class="faq-toggle">+</span></button>
    <div class="faq-answer">
      <p><strong>Causas poss√≠veis:</strong></p>
      <ul>
        <li>Permiss√£o de c√¢mera negada pelo navegador.</li>
        <li>Outro app usando a c√¢mera (Teams, Zoom, WhatsApp Web).</li>
        <li>Extens√µes de privacidade bloqueando hardware.</li>
        <li>Bloqueio de permiss√£o no iOS (Safari).</li>
      </ul>
      <p><strong>Solu√ß√µes:</strong></p>
      <ul>
        <li>Fechar apps que usam c√¢mera.</li>
        <li>Verificar permiss√£o do navegador.</li>
        <li>No iPhone: Ajustes > Safari > C√¢mera > Permitir.</li>
	<li>No Android: Configura√ß√µes > Apps > Chrome > Permiss√µes do app > C√¢mera > Permitir.</li>
        
      </ul>
    </div>
  </article>

  <article class="faq-item" data-section>
    <button class="faq-question">ü§≥ O sistema trava ao iniciar o liveness <span class="faq-toggle">+</span></button>
    <div class="faq-answer">
      <p><strong>Causas:</strong> rede inst√°vel, cache corrompido, Safari antigo.</p>
      <p><strong>Solu√ß√µes:</strong> limpar cache, evitar aba an√¥nima, tentar ap√≥s 2‚Äì3 min.</p>
    </div>
  </article>

  <article class="faq-item" data-section>
    <button class="faq-question">üßæ O documento n√£o √© reconhecido / aparece como ‚Äúdesconhecido‚Äù <span class="faq-toggle">+</span></button>
    <div class="faq-answer">
      <p><strong>Causas:</strong> reflexo, documento fora do quadro, HEIC, print/scanner.</p>
      <p><strong>Solu√ß√µes:</strong> luz natural, fundo neutro, c√¢mera limpa, pedir JPG/PNG.</p>
    </div>
  </article>

  <article class="faq-item" data-section>
    <button class="faq-question">üß† A an√°lise fica pendente por muito tempo <span class="faq-toggle">+</span></button>
    <div class="faq-answer">
      <p><strong>Causas:</strong> fila do fornecedor, <span title="Mensagem autom√°tica que o sistema envia quando o evento ocorre">webhook</span> travado, integra√ß√£o do BKO.</p>
      <p><strong>Solu√ß√µes:</strong> checar painel do provedor, confirmar status manual e reportar.</p>
    </div>
  </article>

  <article class="faq-item" data-section>
    <button class="faq-question">üíª A verifica√ß√£o trava na tela de carregamento (loop loading) <span class="faq-toggle">+</span></button>
    <div class="faq-answer">
      <p><strong>Causas:</strong> <span title="Limite de tempo estabelecido para execu√ß√£o da opera√ß√£o">timeout</span>, token expirado, rede inst√°vel.</p>
      <p><strong>Solu√ß√µes:</strong> limpar cache, reiniciar fluxo, testar em outra rede (wi-fi ou dados m√≥veis).</p>
    </div>
  </article>

 

<article class="faq-item" data-section>
    <button class="faq-question">üì∑ Falhas no foco ou n√£o consegue capturar o rosto <span class="faq-toggle">+</span></button>
    <div class="faq-answer">
      <p><strong>Causas:</strong> Falha de hardware da c√¢mera ou baixa qualidade.</p>
      <p><strong>Solu√ß√µes:</strong> Realizar o processo em outro dispositivo com melhor qualidade de imagem, al√©m de garantir boa ilumina√ß√£o no ambiente, evitando luz de fundo ou reflexos diretos no rosto..</p>
    </div>
  </article>

<article class="faq-item" data-section>
  <button class="faq-question">‚öôÔ∏è Falha no carregamento do m√≥dulo de liveness <span class="tooltip" data-tooltip="Kit de desenvolvimento de software">SDK</span> (tela "branca/preta") <span class="faq-toggle">+</span></button>
  <div class="faq-answer">
    <p><strong>Causas:</strong> Pode ocorrer por erro de inicializa√ß√£o do componente <span title="Tecnologia usada para acessar a c√¢mera em tempo real">WebRTC</span>, bloqueio de acesso √† c√¢mera pelo navegador, <span class="tooltip" data-tooltip="Limite de tempo estabelecido para executar a opera√ß√£o">timeout</span> de recursos ou conflito de cache local.</p>
    <p><strong>Solu√ß√µes:</strong> Limpar o cache do navegador, realizar o teste em uma aba an√¥nima, trocar a conex√£o de rede (para uma conex√£o wi-fi) e verificar se as permiss√µes de uso da c√¢mera est√£o habilitadas. Caso persista, reinicie o navegador ou tente em outro dispositivo.</p>
  </div>
</article>



</section>


    </main>
  </div>

  <script>
    // Utilities
    const qs = s => document.querySelector(s);
    const qsa = s => Array.from(document.querySelectorAll(s));
    const globalSearch = qs('#globalSearch');
    const sideSearch = qs('#sideSearch');
    const clearBtn = qs('#clearBtn');
    const showAllBtn = qs('#showAllBtn');
    const sections = qsa('[data-section]');
    const indexList = qs('#indexList');

    // Focus shortcut: press / to focus search
    window.addEventListener('keydown', (e) => {
      if (e.key === '/') {
        if (document.activeElement.tagName.toLowerCase() !== 'input' && document.activeElement.tagName.toLowerCase() !== 'textarea') {
          e.preventDefault();
          globalSearch.focus();
        }
      }
      if (e.key === 'Escape') {
        clearSearch();
      }
    });

    // Sync side search with top search
    sideSearch.addEventListener('input', (ev) => {
      globalSearch.value = ev.target.value;
      handleSearch(ev.target.value);
    });

    globalSearch.addEventListener('input', (ev) => {
      sideSearch.value = ev.target.value;
      handleSearch(ev.target.value);
    });

    clearBtn.addEventListener('click', () => { clearSearch(); });

    showAllBtn.addEventListener('click', () => {
      globalSearch.value = '';
      sideSearch.value = '';
      handleSearch('');
      // scroll to top main area
      window.scrollTo({top:0, behavior:'smooth'});
    });

    function clearSearch() {
      globalSearch.value = '';
      sideSearch.value = '';
      handleSearch('');
      globalSearch.focus();
    }

    function escapeRegExp(string) {
      return string.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
    }

    function highlightMatches(node, query) {
      // Remove previous highlights
      const prev = node.querySelectorAll('.match-highlight');
      prev.forEach(p => {
        const parent = p.parentNode;
        parent.replaceChild(document.createTextNode(p.textContent), p);
        parent.normalize();
      });

      if (!query) return;

      const regex = new RegExp('(' + escapeRegExp(query) + ')', 'ig');

      // Walk text nodes and replace matches
      const walker = document.createTreeWalker(node, NodeFilter.SHOW_TEXT, null, false);
      const textNodes = [];
      while(walker.nextNode()) textNodes.push(walker.currentNode);

      textNodes.forEach(tn => {
        if (!tn.nodeValue.trim()) return;
        if (regex.test(tn.nodeValue)) {
          const span = document.createElement('span');
          span.innerHTML = tn.nodeValue.replace(regex, '<span class="match-highlight">$1</span>');
          tn.parentNode.replaceChild(span, tn);
        }
      });
    }

    function handleSearch(query) {
      const q = (query||'').trim().toLowerCase();

      // If empty - show all
      if (!q) {
        sections.forEach(s => {
          s.classList.remove('hidden');
          s.classList.add('reveal');
          // remove highlights
          const prev = s.querySelectorAll('.match-highlight');
          prev.forEach(p => {
            const parent = p.parentNode;
            parent.replaceChild(document.createTextNode(p.textContent), p);
            parent.normalize();
          });
        });
        updateIndexVisibility('');
        return;
      }

      // For each section, check if includes query in textContent or id/title
      sections.forEach(s => {
        const text = (s.textContent || s.innerText || '').toLowerCase();
        const id = s.id || '';
        const title = (s.querySelector('h2, h3') ? (s.querySelector('h2, h3').innerText || '') : '').toLowerCase();
        const match = text.includes(q) || id.includes(q) || title.includes(q);

        if (match) {
          s.classList.remove('hidden');
          s.classList.add('reveal');
          // highlight inside visible section
          highlightMatches(s, q);
          // scroll first matched section into view
        } else {
          s.classList.add('hidden');
          // remove previous highlights (if any)
          const prev = s.querySelectorAll('.match-highlight');
          prev.forEach(p => {
            const parent = p.parentNode;
            parent.replaceChild(document.createTextNode(p.textContent), p);
            parent.normalize();
          });
        }
      });

      updateIndexVisibility(q);

      // scroll to first visible section
      const first = document.querySelector('[data-section]:not(.hidden)');
      if (first) first.scrollIntoView({behavior:'smooth', block:'start'});
    }

    function updateIndexVisibility(q) {
      // hide index entries that don't match
      const links = Array.from(indexList.querySelectorAll('a'));
      links.forEach(a => {
        const targetId = a.getAttribute('href').slice(1);
        const section = document.getElementById(targetId);
        if (!section) return;
        const text = (section.textContent || '').toLowerCase();
        if (!q) {
          a.parentElement.style.display = '';
        } else {
          a.parentElement.style.display = text.includes(q) ? '' : 'none';
        }
      });
    }

    // Initialize: attach click to index to smooth scroll and focus highlight removal
    indexList.querySelectorAll('a').forEach(a => {
      a.addEventListener('click', (ev) => {
        ev.preventDefault();
        const id = a.getAttribute('href').slice(1);
        const el = document.getElementById(id);
        if (el) {
          el.scrollIntoView({behavior:'smooth', block:'start'});
          // briefly flash
          el.classList.add('reveal');
          setTimeout(()=>el.classList.remove('reveal'), 700);
        }
      });
    });

    // Accessibility: focus search on load
    // globalSearch.focus();

// FAQ accordion toggle
document.querySelectorAll(".faq-question").forEach(btn => {
  btn.addEventListener("click", () => {
    const parent = btn.parentElement;
    parent.classList.toggle("open");
  });
});

  </script>

<script>
/* ============================
   Tooltips autom√°ticos (case-insensitive)
   ============================ */

// 1. Ler dicion√°rio
const dict = {};
document.querySelectorAll("#conceitos table tbody tr").forEach(row => {
  const term = row.children[0].innerText.trim();
  const meaning = row.children[1].innerText.trim();
  dict[term] = meaning;
});

// Cria um array de termos ordenados por tamanho (evita conflito entre termos)
const terms = Object.keys(dict).sort((a, b) => b.length - a.length);

// 2. Fun√ß√£o para processar um texto e envolver termos
function processTextNode(node) {
  let text = node.nodeValue;
  let replaced = false;

  terms.forEach(term => {
    const meaning = dict[term];

    // regex case-insensitive, word-boundaries
    const regex = new RegExp(`\\b(${term})\\b`, "gi");

    if (regex.test(text)) {
      text = text.replace(regex, match => {
        // match = forma original (mai√∫sculas/min√∫sculas)
        return `<span class="tooltip" data-tooltip="${meaning}">${match}</span>`;
      });
      replaced = true;
    }
  });

  if (replaced) {
    const span = document.createElement("span");
    span.innerHTML = text;
    node.replaceWith(span);
  }
}

// 3. Evita processar o pr√≥prio dicion√°rio
function applyTooltips() {
  const contentNodes = document.querySelectorAll("main *:not(#conceitos *)");

  contentNodes.forEach(el => {
    // processa apenas n√≥s de texto
    el.childNodes.forEach(node => {
      if (node.nodeType === Node.TEXT_NODE) {
        processTextNode(node);
      }
    });
  });
}

// 4. Aplicar tooltips ap√≥s carregamento
applyTooltips();

</script>


</body>
</html>









